<!DOCTYPE html>
<html lang="en">
  <head>

<script type="text/javascript">

var persistmenu="yes" //"yes" or "no". Make sure each SPAN content contains an incrementing ID starting at 1 (id="sub1", id="sub2", etc)
var persisttype="sitewide" //enter "sitewide" for menu to persist across site, "local" for this page only

if (document.getElementById){ //DynamicDrive.com change
document.write('<style type="text/css">\n')
document.write('.submenu{display: none;}\n')
document.write('</style>\n')
}

function SwitchMenu(obj){
	if(document.getElementById){
	var el = document.getElementById(obj);
	var ar = document.getElementById("masterdiv").getElementsByTagName("span"); //DynamicDrive.com change
		if(el.style.display != "block"){ //DynamicDrive.com change
			for (var i=0; i<ar.length; i++){
				if (ar[i].className=="submenu") //DynamicDrive.com change
				ar[i].style.display = "none";
			}
			el.style.display = "block";
		}else{
			el.style.display = "none";
		}
	}
}

function get_cookie(Name) { 
  var search = Name + "="
  var returnvalue = "";
    if (document.cookie.length > 0) {
      offset = document.cookie.indexOf(search)
    if (offset != -1) { 
      offset += search.length
      end = document.cookie.indexOf(";", offset);
    if (end == -1) end = document.cookie.length;
      returnvalue=unescape(document.cookie.substring(offset, end))
      }
    }    
    return returnvalue;
  }

function onloadfunction(){
  if (persistmenu=="yes"){
    var cookiename=(persisttype=="sitewide")? "switchmenu" : window.location.pathname
    var cookievalue=get_cookie(cookiename)
  if (cookievalue!="")
    document.getElementById(cookievalue).style.display="block"
  }
}

function savemenustate(){
var inc=1, blockid=""
while (document.getElementById("sub"+inc)){
if (document.getElementById("sub"+inc).style.display=="block"){
blockid="sub"+inc
break
}
inc++
}
var cookiename=(persisttype=="sitewide")? "switchmenu" : window.location.pathname
var cookievalue=(persisttype=="sitewide")? blockid+";path=/" : blockid
document.cookie=cookiename+"="+cookievalue
}

if (window.addEventListener)
window.addEventListener("load", onloadfunction, false)
else if (window.attachEvent)
window.attachEvent("onload", onloadfunction)
else if (document.getElementById)
window.onload=onloadfunction

if (persistmenu=="yes" && document.getElementById)
window.onunload=savemenustate

</script>

<h2 class="style">GreenFoot Calculator</h2>
    <h1 id = "pagetitle"  style="font-size:300%;"><b>GreenFoot Calculator</b></h1>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">
    <!-- import the webpage's javascript file -->
    <script src="/carbonscript.js"></script>
  </head> 

 
  <body style="background-image:url('https://cdn.glitch.com/54b18413-4ac8-43fb-bcad-3945eba53f7c%2Fhappytrees.jpg?1527370797583')">
  <!-- Keep all menus within masterdiv-->

<body>
<div id="masterdiv">
</div>

<ul>
  <li><a class="active" href="#home">Home</a></li>
  <li><a href="#news">News</a></li>
  <li><a href="#contact">Contact</a></li>
  <li><a href="#about">About</a></li>
</ul>

<div style="margin-right:25%;padding:1px 16px;height:1000px;">
  <h3 style="color:white;">Do you really know how big your carbon footprint is?</h3>
  
</body>

<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */


// Close the dropdown if the user clicks outside of it
</script>
    
    <table>
      <tr>
        <script>
          function CalcFood() {
            CalcFood.prototype.calculateFoodEnergyUsage = function (){
            
                var foodEnergyUsage;
                var corn = 2;
                var milk = 3;
                var apples = 2.5;
                var eggs = 5;
                var chicken = 5;
                var cheese = 7.5;
                var pork = 12.5;
                var beef = 30.5;

                var food = document.getElementById('foodInput').value
                var amt = document.getElementById('foodAmnt').value
                debugger;
                  if(foodInput == "corn"){
                      foodEnergyUsage += (corn*amt); 
                  }
                  if(foodInput == "milk"){
                      foodEnergyUsage += (milk*amt);
                  }
                  if(foodInput == "apples"){
                      foodEnergyUsage += (apples*amt);
                  }
                  if(foodInput == "eggs"){
                      foodEnergyUsage += (eggs*amt); 
                  }
                  if(foodInput == "chicken"){
                      foodEnergyUsage += (chicken*amt);
                  }
                  if(foodInput == "cheese"){
                      foodEnergyUsage += (cheese*amt);
                  }
                  if(foodInput == "pork"){
                      foodEnergyUsage += (pork*amt);
                  }
                  if(foodInput == "beef"){
                      foodEnergyUsage += (beef*amt);
                  }
              
          }
        </script>

      <th id = "item1" >Food</th>
          <td>
      <form id="food" >
            <p > <font color = "white">Enter a food(eggs, milk, cheese, pork, beef, apples, corn, chicken)</font></p>
          <input id="foodInput" type="text" name="foodInput"><br>
          
            <p > <font color = "white">Enter an amount (yearly consumption in lbs.)</font></p>
          <input id ="foodAmnt" type="text" name="foodAmnt"><br>
        <input name="buttonExecute" onclick="CalcFood()" type="button" value="submit"/>
          
      </form>
          </td>
        
        
        <script>
          function CalcCar(){
              var caremission = 0;
              var carType = document.getElementById('carType').value
              var mpg = document.getElementById('mpg').value
              var daily = document.getElementById('daily').value
              if(carType == "G"){
                var co2pkm = 6760/mpg;
                var co2pm = co2pkm/1.609;
                caremission = co2pm * daily * 365;
              }
              if(carType == "D"){
                var co2pkm = 7440/mpg;
                var co2pm = co2pkm/1.609;
                caremission = co2pm * daily * 365;

              }
              if(carType == "E"){
                caremission = 0;
              }
            window.alert(caremission);
            }
        </script> 
        
        
      <th id = "item2" >Car</th> 
          <td>
       <form id="car" >
            <p > <font color = "white">Enter a car type(G for gas, D for diesel, E for electric)</font></p>
          <input id="carType" type="text" name="carType"><br>
          
            <p > <font color = "white">Enter your average miles driven daily</font></p>
          <input id ="daily" type="text" name="daily"><br>
          
           <p > <font color = "white">Enter your MPG</font></p>
          <input id ="mpg" type="text" name="mpg"><br>
         <input name="buttonExecute" onclick="CalcCar()" type="button" value="submit"/>
          
      </form>
        </td>
        
        
      <script>
        function CalcEnergy  (){
          var state = document.getElementById('state').value
          var powerBill = document.getElementById('powerBill').value
          var states = ["Alaska", "Alabama", "Arkansas", "Arizona", "California", "Colorado", "Connecticut", "District of Columbia", "Delaware", "Florida", "Georgia", "Hawaii", "Iowa", "Idaho", "Illinois", "Indiana", "Kansas", "Kentucky", "Louisiana", "Massachusetts", "Maryland", "Maine", "Michigan", "Minnesota", "Missouri", "Mississippi", "Montana", "North Carolina", "North Dakota", "Nebraska", "New Hampshire", "New Jersey", "New Mexico", "Nevada", "New York", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina", "South Dakota", "Tennessee", "Texas", "Utah", "Virginia", "Vermont", "Washington", "West Virginia", "Wisconsin", "Wyoming"];
          var prices = [11.27, 18.72, 10.25, 8.63, 14.83, 9.64, 17.13, 12.35, 10.09, 10.05, 9.38, 28.7, 7.93, 8.51, 10.32, 9.33, 10.37, 9.86, 8.95, 13.12, 11.08, 17.67, 11.5, 10.01, 10.9, 8.48, 9.96, 8.41, 8.15, 16.96, 12.49, 9.65, 13.58, 9.14, 8.59, 10.32, 7.69, 8.76, 9.42, 17.68, 8.22, 9.32, 10.39, 8.53, 8.24, 15.05, 8.48, 8.84, 9.96, 10.95, 9.5];
          var i = 0;
          debugger;
          while ((states[i].localeCompare(state) < 0)) {
              i++;
          }
          var price = prices[i] / 100;
          var kwh = 12 * powerBill / price;
          var pounds = 1.4 * kwh;
          var total = pounds * 5.0E-4;
          window.alert(total);
        
    }
     </script>

      <th id = "item3" >State</th>
        <td>
       <form id="Energy" >
            <p > <font color = "white">Enter your state</font></p>
          <input id="state" type="text" name="state"><br>
          
           <p > <font color = "white">Enter your last monthly power bill</font></p>
          <input id="powerBill" type="text" name="powerBill"><br>
          <input name="buttonExecute" onclick="CalcEnergy()" type="button" value="submit"/>
          
      </form>
        </td>
      </tr>
    
  
    </table>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Catergory', 'Tons per year'],
          ['Car',   33  ],
          ['Food',  6],
          ['Appliances',  4]
        ]);

        var options = {
          title: 'Your GreenFoot Rating:',
          pieHole: 0.4,
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
    </script>
  <br><br><input name="buttonExecute" onclick="calculateCarbon()" type="button" value="Click To See Your Carbon Footprint"/>
  <input name="buttonExecute" onclick="avg()" type="button" value="Click To See Your Carbon Footprint Rank"/>
    <script>
      function calculateCarbon(){
        var temp1 = 0;
        var temp2 = 0;
        var temp3 = 0;
        temp1 += CalcFood();
        
        temp2 += CalcCar();
        
        temp3 += CalcEnergy()/90718;
        
        totalCarbon = (temp1 + temp2 + temp3);
        
        window.alert("Your total carbon footprint is " + totalCarbon + "tons per year");
         //document.write(totalCarbon);
    
    //add table here instead 
    }
    function avg(){
        var rank = 0;
        rank = (totalCarbon*28)/2;
        
        window.alert("Your carbon footprint rank is: " + rank
    }
  </script>
</body>
  
<footer>   
  <f1 id = "footer" style = "font-size:110%;"> 
    <p> © CodeDay Bay Area 2018</p>
    By Abhi, Arjun, Pranav, Darren and Andy </f1>
</footer>
<div id="donutchart" style="width: 900px; height: 500px;"></div>
  
</html>
